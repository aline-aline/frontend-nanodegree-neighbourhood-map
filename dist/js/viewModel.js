var viewModel={self:this,locations:ko.observableArray(),searchQuery:ko.observable(""),toggleMarker:function(o){viewModel.disableMarkers(),o.marker.setAnimation(google.maps.Animation.BOUNCE),o.infowindow.open(map,o.marker)},disableMarkers:function(){for(var o=0;o<this.locations().length;o++)this.locations()[o].marker.setAnimation(null),this.locations()[o].infowindow.close()},fillLocations:function(){for(var o=0;o<model.locations.length;o++)this.locations.push(model.locations[o])},init:function(){model.init(),this.fillLocations(),ko.applyBindings(viewModel),viewModel.searchQuery.subscribe(this.filterItems)},filterItems:function(){for(var o=viewModel.searchQuery().toLowerCase(),e=0;e<model.locations.length;e++){model.locations[e].title().toLowerCase().indexOf(o)>-1?(model.locations[e].isFiltered(!0),model.locations[e].marker.setVisible(!0)):(model.locations[e].isFiltered(!1),model.locations[e].marker.setMap(null))}}};